# 블로그 프론트엔드

## Pages

- 로그인
- 회원가입
- 글쓰기
- 포스트 읽기
- 포스트 목록

## Note

### **Route path**

```
  <Route component={PostListPage} path={["/@:username", "/"]} exact />
```

- path에 배열을 넣어주면 한 라우트 컴포넌트에 여러 개의 경로를 쉽게 설정 가능
- path에 "/@:username" 처럼 입력하면 http://localhost:3000/@pjj 와 같은 경로에서 pjj를 username 파라미터로 읽을 수 있게 해줌
- 계정 명을 주소 경로 안에 넣을 때 주소 경로에 @을 넣는 방식을 사용한다.
  <br>
  <br>

### **children props**

- 컴포넌트에서 children props 를 활용하는 경우는 보통 레이아웃 컴포넌트에 활용하는것같다. 레이아웃 컴포넌트는 여러곳에서 쓰이고, 내부 컴포넌트만 다르게 적용시킬때 활용하면 좋은 것 같다.
  <br>
  <br>

### **axios 인스턴스**

- API 함수를 작성하기 전에, axios 인스턴스를 만들어서 작업하는것이 좋다. axios 인스턴스를 만들면 나중에 API 클라이언트에 공통된 설정을 쉽게 넣어 줄 수 있다.
- 인스턴스를 만들지 않으면 애플리케이션에서 발생하는 모든 요청에 대해 설정하게 되므로, 또 다른 API서버를 사용하려 할 때 곤란해질 수 있다.
- 추가로 나중에 axios를 사용하지 않는 상황이 왔을 때 쉽게 클라이언트를 교체할 수 있는 것 또한 장점이다.

### **CORS(Cross Origin Request) 오류란?**

- 예를들어 현재 백엔드 서버는 5000포트, 리액트(프론트엔드)개발 서버는 3000포트로 열려 있기때문에 별도의 설정없이 API를 호출하려고 하면 오류가 발생한다. 이런 오류를 CORS오류라고 부른다.
- 이 오류를 해결하려면 다른 주소에서도 API를 호출할 수 있도록 서버 쪽 코드를 수정해야 한다.
- 하지만, 최종적으로 프로젝트를 다 완성하고 나면 결국 리액트 앱도 같은 호스트에서 제공할 것이기 때문에 이러한 설정을 하는 것은 불필요
- 대신 프록시(proxy)라는 기능을 사용함. 프록시란 웹팩 개발 서버에서 지원하는 기능인데, 개발 서버로 요청하는 API들을 우리가 프록시로 정해 둔 서버로 그대로 전달해 주고 그 응답을 웹 애플리케이션에서 사용할 수 있게 해준다.

### **리덕스**

- 리덕스의 state는 페이지가 새로고침 될 때 초기화된다. 새로고침 이외에 초기화를 하고싶다면, 따로 초기화 해주는 액션을 만들면 된다.

- redux-saga의 주요 함수 정리

  - delay : 설정된 시간 이후에 resolve하는 Promise 객체를 리턴
    <br>
  - put : 특정 액션을 dispatch 하도록 하는 함수
    <br>
  - takeEvery : 들어오는 모든 액션에 대해 특정 작업을 처리해준다.
    <br>
  - takeLatest : 기존에 진행 중이던 작업이 있다면 취소 처리하고 가장 마지막으로 실행된 작업만 수행한다.
    <br>
  - call : 함수의 첫 번째 파라미터는 함수, 나머지 파라미터는 해당 함수에 넣을 인수이다.
    - call과 put의 다른 점은 put은 스토어에 인자로 들어온 action을 dispatch하고, call인 경우에는 주어진 함수를 실행하게 되는 것이다.
      <br>
  - all : all 함수를 사용해서 제너레이터 함수를 배열의 형태로 인자로 넣어주면, 제너레이터 함수들이 병행적으로 동시에 실행되고, 전부 resolve 될 때 까지 기다린다.
    <br>

### **컴포넌트를 Link처럼 작동시키는 방법 두 가지**

1. 컴포넌트에서 withRouter 사용하기
2. Link 컴포넌트를 직접 사용하기

   - Link 컴포넌트를 직접 사용하는 방법을 권장. 웹 접근성으로 따지면 Link 컴포넌트를 사용하는 것이 더 옳은 방식
   - Link 컴포넌트는 a 태그를 사용하기때문이다. HTML 태그는 용도대로 사용하는것이 BEST
   - Link 컴포넌트를 기반으로 구현하면 버튼에 마우스를 올렸을 때 브라우저 하단에 이동할 주소가 나타난다는 차이점도 존재

## Source

- lib : 다양한 컴포넌트에서 공통적으로 쓰일만한 모듈들이 들어있는 디렉토리
- components : 프레젠테이셔널 컴포넌트(사용자에게 보여주는 부분), 그리고 부품처럼 사용할 컴포넌트들이 모여있는 디렉토리
- containers : 컨테이너 컴포넌트들이 모여있는 디렉토리 (여러 필요한 작업들을 처리하는 컴포넌트, 작업을 처리하고 함수나 데이터등을 프레젠테이셔널 컴포넌트에 props으로 전달)
- pages : Route path에 따라 보여줄 컴포넌트들이 모여있는 디렉토리
- modules : redux 상태관리 모듈들이 모여있는 디렉토리 (액션, 액션생성자, State, 리듀서함수)

## issue

### **회원 인증 에러 관련**

- [ ] 회원 인증 에러메시지를 띄우는 부분에서 로그인에러, 또는 회원가입 에러를 낸 상태에서 로그인페이지 링크를 누르거나 회원가입페이지 링크를 눌러서 이동하면, 에러메시지 박스가 없어지지않고, 남아있는 버그가 있다.<br> useEffect에서 Error를 초기화해주는 함수를 분명 디스패치할텐데 에러가 왜 남아있는지 모르겠음. redux 개발자 툴을 이용하여 state를 확인해봐도 남아있는 authError를 확인하지 못했음
